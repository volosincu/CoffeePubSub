!function(a,b){"function"==typeof define&&define.amd?define(["exports"],function(c){return a.Proto=b(a,c),a.Proto}):"undefined"!=typeof exports?b(a,exports):a.Proto=b(a,{})}(this,function(a,b){return b=function(){function a(c){var f,g,h;for(f in c)h=c[f],d(h)?(g=new e(f),a.prototype[f]=g.route,b[f]=[h]):a.prototype[f]=h}var b,c,d,e;return c={},b={},d=function(a){return"function"==typeof a},e=function(c){var d,e;return d=c,e={route:function(){var c,e,f,g,h,i;for(f={},i=b[d],c=g=0,h=i.length;h>g;c=++g)e=i[c],void 0!==e&&(0===c?f=e.apply(a.prototype,arguments):e.apply(a.prototype));return f}}},a.prototype.attachTo=function(a,c,d){void 0===arguments[3]&&(d=b[a].length++),void 0===b[a][d]||null===b[a][d]?b[a][d]=c:Array.prototype.splice.call(b[a],d,0,c)},a.prototype.on=function(a,b){c[a]=b},a.prototype.trigger=function(b,d,e){var f;return f={},"string"==typeof b?(e=d,d=b,b=a.prototype,f="array"==typeof e?c[d].apply(b,e):c[d].call(b,e)):3===arguments.length?(console.log(typeof e),f="array"==typeof e?c[d].apply(b,e):c[d].call(b,e)):f=c,f},a}()});